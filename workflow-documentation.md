# Agent Studio Lite å·¥ä½œæµæ¨¡å—ä½¿ç”¨æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

Agent Studio Lite æ˜¯ä¸€ä¸ªåŸºäºçŠ¶æ€æœºçš„å·¥ä½œæµå¼•æ“ç³»ç»Ÿï¼Œæ”¯æŒå¯è§†åŒ–è®¾è®¡ã€å¼‚æ­¥æ‰§è¡Œå’Œçµæ´»çš„èŠ‚ç‚¹é…ç½®ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯æä¾›ç›´è§‚çš„å·¥ä½œæµè®¾è®¡å™¨ï¼Œåç«¯å®ç°å¼ºå¤§çš„çŠ¶æ€æœºæ‰§è¡Œå¼•æ“ã€‚

### 1.1 ä¸»è¦åŠŸèƒ½

- å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨
- åŸºäºçŠ¶æ€æœºçš„å·¥ä½œæµæ‰§è¡Œ
- å¤šç§èŠ‚ç‚¹ç±»å‹æ”¯æŒï¼ˆå¤§æ¨¡å‹è°ƒç”¨ã€åˆ†æ”¯ã€èµ‹å€¼ã€HTTPè°ƒç”¨ç­‰ï¼‰
- å¼‚æ­¥æ‰§è¡Œä¸ç”¨æˆ·è¾“å…¥äº¤äº’
- å®Œæ•´çš„æ‰§è¡Œæ—¥å¿—è®°å½•
- å·¥ä½œæµå®ä¾‹ç®¡ç†

### 1.2 æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šVue 3 + Element Plus
- **åç«¯**ï¼šJava Spring Boot
- **æ•°æ®åº“**ï¼šMySQLï¼ˆåŒ…å«çŠ¶æ€å·¥ä½œæµç›¸å…³è¡¨ï¼‰

## 2. å·¥ä½œæµæ¨¡å—æ¶æ„

### 2.1 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯åº”ç”¨                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WorkflowDesigner.vue  â”‚  workflow.js  â”‚  WorkflowChatDialog.vue â”‚
â”‚  (å·¥ä½œæµè®¾è®¡å™¨)         â”‚  (APIè°ƒç”¨)     â”‚  (å·¥ä½œæµå¯¹è¯)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åç«¯æœåŠ¡                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  StateWorkflowController  â”‚  StateMachineEngine  â”‚  WorkflowMapper â”‚
â”‚  (çŠ¶æ€å·¥ä½œæµæ§åˆ¶å™¨)        â”‚  (çŠ¶æ€æœºå¼•æ“)        â”‚  (å·¥ä½œæµæ•°æ®è®¿é—®) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ•°æ®åº“                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  state_workflow_definitions â”‚  state_nodes  â”‚  state_transitions â”‚
â”‚  state_workflow_instances   â”‚  state_execution_logs             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶åç§° | åŠŸèƒ½æè¿° | ä½ç½® |
|---------|---------|------|
| å·¥ä½œæµè®¾è®¡å™¨ | å¯è§†åŒ–åˆ›å»ºå’Œç¼–è¾‘å·¥ä½œæµ | å‰ç«¯ `src/components/WorkflowDesigner.vue` |
| å·¥ä½œæµAPI | ä¸åç«¯äº¤äº’çš„APIè°ƒç”¨ | å‰ç«¯ `src/api/workflow.js` |
| çŠ¶æ€å·¥ä½œæµæ§åˆ¶å™¨ | å¤„ç†å·¥ä½œæµå®šä¹‰å’Œå®ä¾‹çš„HTTPè¯·æ±‚ | åç«¯ `StateWorkflowController.java` |
| çŠ¶æ€æœºå¼•æ“ | æ‰§è¡Œå·¥ä½œæµå®ä¾‹çš„æ ¸å¿ƒå¼•æ“ | åç«¯ `StateMachineEngine.java` |
| çŠ¶æ€å·¥ä½œæµMapper | å·¥ä½œæµæ•°æ®è®¿é—®æ¥å£ | åç«¯ `StateWorkflowMapper.java` |

## 3. å·¥ä½œæµè®¾è®¡å™¨ä½¿ç”¨æ–¹æ³•

### 3.1 è®¾è®¡å™¨ç•Œé¢

å·¥ä½œæµè®¾è®¡å™¨åŒ…å«ä¸‰ä¸ªä¸»è¦åŒºåŸŸï¼š

1. **å·¦ä¾§èŠ‚ç‚¹é¢æ¿**ï¼šæä¾›å„ç§èŠ‚ç‚¹ç±»å‹ï¼Œå¯æ‹–æ‹½åˆ°ç”»å¸ƒ
2. **ä¸­é—´ç”»å¸ƒåŒºåŸŸ**ï¼šç”¨äºè®¾è®¡å·¥ä½œæµæµç¨‹ï¼Œè¿æ¥èŠ‚ç‚¹
3. **å³ä¾§å±æ€§é¢æ¿**ï¼šç”¨äºé…ç½®é€‰ä¸­èŠ‚ç‚¹çš„å±æ€§å’Œå…¨å±€å˜é‡

### 3.2 èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | å›¾æ ‡ | åŠŸèƒ½æè¿° |
|---------|------|---------|
| start | â–¶ï¸ | å·¥ä½œæµå¼€å§‹èŠ‚ç‚¹ |
| end | â¹ï¸ | å·¥ä½œæµç»“æŸèŠ‚ç‚¹ |
| llm_call | ğŸ¤– | å¤§æ¨¡å‹è°ƒç”¨èŠ‚ç‚¹ |
| llm_assign | ğŸ“ | å¤§æ¨¡å‹èµ‹å€¼èŠ‚ç‚¹ |
| parallel | ğŸ”€ | å¹¶è¡Œæ‰§è¡ŒèŠ‚ç‚¹ |
| basic_branch | ğŸŒ¿ | åŸºç¡€åˆ†æ”¯èŠ‚ç‚¹ï¼ˆåŸºäºæ¡ä»¶è¡¨è¾¾å¼ï¼‰ |
| llm_branch | ğŸŒ² | å¤§æ¨¡å‹åˆ†æ”¯èŠ‚ç‚¹ï¼ˆåŸºäºAIåˆ¤æ–­ï¼‰ |
| assign | ğŸ“ | èµ‹å€¼èŠ‚ç‚¹ |
| workflow_call | ğŸ”— | è°ƒç”¨å…¶ä»–å·¥ä½œæµ |
| http_call | ğŸŒ | HTTPè¯·æ±‚è°ƒç”¨èŠ‚ç‚¹ |
| user_input | ğŸ‘¤ | ç”¨æˆ·è¾“å…¥èŠ‚ç‚¹ |
| info_output | ğŸ’¬ | ä¿¡æ¯è¾“å‡ºèŠ‚ç‚¹ |
| knowledge_query | ğŸ“š | çŸ¥è¯†åº“æŸ¥è¯¢èŠ‚ç‚¹ |

### 3.3 è®¾è®¡å·¥ä½œæµæ­¥éª¤

1. **æ·»åŠ å¼€å§‹èŠ‚ç‚¹**ï¼šä»å·¦ä¾§é¢æ¿æ‹–æ‹½"å¼€å§‹èŠ‚ç‚¹"åˆ°ç”»å¸ƒ
2. **æ·»åŠ å…¶ä»–èŠ‚ç‚¹**ï¼šæ ¹æ®éœ€è¦æ·»åŠ ä¸åŒç±»å‹çš„èŠ‚ç‚¹
3. **è¿æ¥èŠ‚ç‚¹**ï¼šç‚¹å‡»èŠ‚ç‚¹å³ä¾§çš„è¾“å‡ºç«¯å£ï¼Œæ‹–æ‹½åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è¾“å…¥ç«¯å£
4. **é…ç½®èŠ‚ç‚¹å±æ€§**ï¼šé€‰ä¸­èŠ‚ç‚¹åï¼Œåœ¨å³ä¾§å±æ€§é¢æ¿é…ç½®ç›¸å…³å±æ€§
5. **æ·»åŠ å…¨å±€å˜é‡**ï¼šåœ¨å³ä¾§å±æ€§é¢æ¿çš„"å…¨å±€å˜é‡"æ ‡ç­¾é¡µæ·»åŠ å’Œé…ç½®å…¨å±€å˜é‡
6. **ä¿å­˜å·¥ä½œæµ**ï¼šç‚¹å‡»ä¿å­˜æŒ‰é’®ä¿å­˜å·¥ä½œæµ

### 3.4 èŠ‚ç‚¹é…ç½®ç¤ºä¾‹

#### 3.4.1 å¤§æ¨¡å‹è°ƒç”¨èŠ‚ç‚¹é…ç½®

- **ç³»ç»Ÿæç¤ºè¯**ï¼šè®¾ç½®AIåŠ©æ‰‹çš„è§’è‰²å’Œè¡Œä¸º
- **ç”¨æˆ·æç¤ºè¯æ¨¡æ¿**ï¼šä½¿ç”¨ `${å˜é‡å}` å¼•ç”¨å…¨å±€å˜é‡
- **è¾“å‡ºå˜é‡å**ï¼šæŒ‡å®šAIå“åº”ä¿å­˜çš„å˜é‡å
- **å¯¹è¯ç•Œé¢è®¾ç½®**ï¼šé…ç½®æ˜¯å¦æ‰“å°åˆ°å¯¹è¯ç•Œé¢åŠæ˜µç§°
- **å†å²å¯¹è¯è®¾ç½®**ï¼šé…ç½®æ˜¯å¦ä½¿ç”¨å’Œä¿å­˜å†å²å¯¹è¯

#### 3.4.2 åŸºç¡€åˆ†æ”¯èŠ‚ç‚¹é…ç½®

- **åˆ†æ”¯æ¡ä»¶**ï¼šä¸ºæ¯ä¸ªåˆ†æ”¯è®¾ç½®æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚ `${å˜é‡å} > 100`
- **é»˜è®¤åˆ†æ”¯**ï¼šæœ€åä¸€ä¸ªåˆ†æ”¯è‡ªåŠ¨ä½œä¸ºé»˜è®¤åˆ†æ”¯

#### 3.4.3 ç”¨æˆ·è¾“å…¥èŠ‚ç‚¹é…ç½®

- **æç¤ºæ¶ˆæ¯**ï¼šæ˜¾ç¤ºç»™ç”¨æˆ·çš„æç¤ºä¿¡æ¯
- **è¾“å‡ºå˜é‡å**ï¼šç”¨æˆ·è¾“å…¥ä¿å­˜çš„å˜é‡å
- **å†å²å¯¹è¯è®¾ç½®**ï¼šé…ç½®æ˜¯å¦ä¿å­˜åˆ°å†å²å¯¹è¯

## 4. åç«¯æ¥å£å®šä¹‰

### 4.1 çŠ¶æ€å·¥ä½œæµAPI

#### 4.1.1 å·¥ä½œæµå®šä¹‰ç›¸å…³æ¥å£

| APIè·¯å¾„ | æ–¹æ³• | åŠŸèƒ½æè¿° | è¯·æ±‚ä½“ | å“åº”ä½“ |
|---------|------|---------|--------|--------|
| `/api/state-workflows` | GET | è·å–æ‰€æœ‰å·¥ä½œæµ | - | `ApiResponse<List<StateWorkflowDefinition>>` |
| `/api/state-workflows/user/{userId}` | GET | è·å–ç”¨æˆ·çš„å·¥ä½œæµ | - | `ApiResponse<List<StateWorkflowDefinition>>` |
| `/api/state-workflows/{id}` | GET | è·å–å•ä¸ªå·¥ä½œæµè¯¦æƒ… | - | `ApiResponse<StateWorkflowDefinition>` |
| `/api/state-workflows` | POST | åˆ›å»ºå·¥ä½œæµ | `StateWorkflowDefinition` | `ApiResponse<StateWorkflowDefinition>` |
| `/api/state-workflows/{id}` | PUT | æ›´æ–°å·¥ä½œæµ | `StateWorkflowDefinition` | `ApiResponse<StateWorkflowDefinition>` |
| `/api/state-workflows/{id}` | DELETE | åˆ é™¤å·¥ä½œæµ | - | `ApiResponse<String>` |

#### 4.1.2 å·¥ä½œæµå®ä¾‹ç›¸å…³æ¥å£

| APIè·¯å¾„ | æ–¹æ³• | åŠŸèƒ½æè¿° | è¯·æ±‚ä½“ | å“åº”ä½“ |
|---------|------|---------|--------|--------|
| `/api/state-workflows/{id}/execute` | POST | æ‰§è¡Œå·¥ä½œæµ | `Map<String, Object>` (è¾“å…¥å‚æ•°) | `ApiResponse<StateWorkflowInstance>` |
| `/api/state-workflows/instances` | GET | è·å–æ‰€æœ‰å·¥ä½œæµå®ä¾‹ | - | `ApiResponse<List<StateWorkflowInstance>>` |
| `/api/state-workflows/{workflowId}/instances` | GET | è·å–å·¥ä½œæµçš„æ‰€æœ‰å®ä¾‹ | - | `ApiResponse<List<StateWorkflowInstance>>` |
| `/api/state-workflows/instances/{instanceId}` | GET | è·å–å•ä¸ªå·¥ä½œæµå®ä¾‹è¯¦æƒ… | - | `ApiResponse<StateWorkflowInstance>` |
| `/api/state-workflows/instances/{instanceId}/logs` | GET | è·å–å·¥ä½œæµå®ä¾‹æ‰§è¡Œæ—¥å¿— | - | `ApiResponse<List<StateExecutionLog>>` |
| `/api/state-workflows/instances/{instanceId}/user-input` | POST | æäº¤ç”¨æˆ·è¾“å…¥ï¼Œæ¢å¤å·¥ä½œæµæ‰§è¡Œ | `{"content": "ç”¨æˆ·è¾“å…¥å†…å®¹"}` | `ApiResponse<String>` |

### 4.2 ä¼ ç»Ÿå·¥ä½œæµAPI

| APIè·¯å¾„ | æ–¹æ³• | åŠŸèƒ½æè¿° | è¯·æ±‚ä½“ | å“åº”ä½“ |
|---------|------|---------|--------|--------|
| `/api/workflows` | GET | è·å–æ‰€æœ‰å·¥ä½œæµ | - | `ApiResponse<List<StateWorkflowDefinition>>` |
| `/api/workflows/{id}` | GET | è·å–å•ä¸ªå·¥ä½œæµ | - | `ApiResponse<StateWorkflowDefinition>` |
| `/api/workflows/{id}/definition` | GET | è·å–å·¥ä½œæµå®Œæ•´å®šä¹‰ | - | `ApiResponse<StateWorkflowDefinition>` |
| `/api/workflows` | POST | åˆ›å»ºå·¥ä½œæµ | `StateWorkflowDefinition` | `ApiResponse<StateWorkflowDefinition>` |
| `/api/workflows/{id}` | PUT | æ›´æ–°å·¥ä½œæµ | `StateWorkflowDefinition` | `ApiResponse<StateWorkflowDefinition>` |
| `/api/workflows/{id}` | DELETE | åˆ é™¤å·¥ä½œæµ | - | `ApiResponse<Void>` |

## 5. å·¥ä½œæµæ‰§è¡Œæµç¨‹

### 5.1 æ‰§è¡Œæµç¨‹æ¦‚è¿°

1. **åˆ›å»ºå®ä¾‹**ï¼šè°ƒç”¨ `/api/state-workflows/{id}/execute` æ¥å£åˆ›å»ºå·¥ä½œæµå®ä¾‹
2. **å¼‚æ­¥æ‰§è¡Œ**ï¼šåç«¯å¼‚æ­¥æ‰§è¡Œå·¥ä½œæµï¼Œè¿”å›å®ä¾‹ID
3. **çŠ¶æ€æœºæ‰§è¡Œ**ï¼š
   - ä»å¼€å§‹èŠ‚ç‚¹å¼€å§‹æ‰§è¡Œ
   - æ‰§è¡Œå½“å‰èŠ‚ç‚¹é€»è¾‘
   - æ ¹æ®æ¡ä»¶æˆ–ç»“æœé€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
   - æ›´æ–°å…¨å±€å˜é‡å’Œå®ä¾‹çŠ¶æ€
   - è®°å½•æ‰§è¡Œæ—¥å¿—
4. **ç­‰å¾…ç”¨æˆ·è¾“å…¥**ï¼šå¦‚æœé‡åˆ° `user_input` èŠ‚ç‚¹ï¼Œå·¥ä½œæµæš‚åœï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥
5. **æ¢å¤æ‰§è¡Œ**ï¼šç”¨æˆ·æäº¤è¾“å…¥åï¼Œå·¥ä½œæµç»§ç»­æ‰§è¡Œ
6. **æ‰§è¡Œå®Œæˆ**ï¼šåˆ°è¾¾ç»“æŸèŠ‚ç‚¹æˆ–æ— åç»­èŠ‚ç‚¹æ—¶ï¼Œå·¥ä½œæµæ‰§è¡Œå®Œæˆ

### 5.2 çŠ¶æ€è½¬æ¢

å·¥ä½œæµå®ä¾‹æœ‰ä»¥ä¸‹çŠ¶æ€ï¼š

| çŠ¶æ€ | æè¿° |
|------|------|
| pending | å®ä¾‹å·²åˆ›å»ºï¼Œç­‰å¾…æ‰§è¡Œ |
| running | å®ä¾‹æ­£åœ¨æ‰§è¡Œ |
| waiting | å®ä¾‹ç­‰å¾…ç”¨æˆ·è¾“å…¥ |
| completed | å®ä¾‹æ‰§è¡ŒæˆåŠŸ |
| failed | å®ä¾‹æ‰§è¡Œå¤±è´¥ |

### 5.3 å¼‚æ­¥æ‰§è¡Œæœºåˆ¶

å·¥ä½œæµæ‰§è¡Œé‡‡ç”¨å¼‚æ­¥æœºåˆ¶ï¼Œé€šè¿‡çº¿ç¨‹æ± å¤„ç†ï¼š

```java
// å¼‚æ­¥æ‰§è¡Œå·¥ä½œæµå®ä¾‹
public void executeWorkflowAsync(Long instanceId) {
    executorService.submit(() -> {
        // è®¾ç½®çº¿ç¨‹åç§°ä»¥ä¾¿è°ƒè¯•
        Thread.currentThread().setName("WorkflowExecutor-" + instanceId);
        try {
            // æ‰§è¡Œå·¥ä½œæµé€»è¾‘
            executeInstance(instance, workflow);
        } catch (Throwable e) {
            // å¤„ç†å¼‚å¸¸ï¼Œæ›´æ–°å®ä¾‹çŠ¶æ€ä¸ºå¤±è´¥
            instance.setStatus("failed");
            workflowMapper.updateInstance(instance);
        }
    });
}
```

## 6. å‰ç«¯APIä½¿ç”¨æ–¹æ³•

### 6.1 å·¥ä½œæµAPIè°ƒç”¨ç¤ºä¾‹

#### 6.1.1 è·å–å·¥ä½œæµåˆ—è¡¨

```javascript
import { getWorkflows } from '@/api/workflow'

// è°ƒç”¨APIè·å–å·¥ä½œæµåˆ—è¡¨
getWorkflows().then(response => {
  console.log('å·¥ä½œæµåˆ—è¡¨:', response.data)
}).catch(error => {
  console.error('è·å–å·¥ä½œæµåˆ—è¡¨å¤±è´¥:', error)
})
```

#### 6.1.2 åˆ›å»ºå·¥ä½œæµ

```javascript
import { createWorkflow } from '@/api/workflow'

// å‡†å¤‡å·¥ä½œæµæ•°æ®
const workflowData = {
  name: 'æµ‹è¯•å·¥ä½œæµ',
  description: 'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å·¥ä½œæµ',
  version: '1.0.0',
  definition: {
    nodes: [/* èŠ‚ç‚¹åˆ—è¡¨ */],
    transitions: [/* è¿æ¥åˆ—è¡¨ */],
    globalVariables: [/* å…¨å±€å˜é‡åˆ—è¡¨ */]
  }
}

// åˆ›å»ºå·¥ä½œæµ
createWorkflow(workflowData).then(response => {
  console.log('åˆ›å»ºå·¥ä½œæµæˆåŠŸ:', response.data)
}).catch(error => {
  console.error('åˆ›å»ºå·¥ä½œæµå¤±è´¥:', error)
})
```

#### 6.1.3 æ‰§è¡Œå·¥ä½œæµ

```javascript
import { runWorkflow } from '@/api/workflow'

// å·¥ä½œæµID
const workflowId = 1
// è¾“å…¥å‚æ•°
const inputParams = {
  param1: 'value1',
  param2: 'value2'
}

// æ‰§è¡Œå·¥ä½œæµ
runWorkflow(workflowId, inputParams).then(response => {
  console.log('æ‰§è¡Œå·¥ä½œæµæˆåŠŸ:', response.data)
  const instanceId = response.data.id
  // å¯ä»¥æ ¹æ®instanceIdæŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€æˆ–æ—¥å¿—
}).catch(error => {
  console.error('æ‰§è¡Œå·¥ä½œæµå¤±è´¥:', error)
})
```

#### 6.1.4 è·å–å·¥ä½œæµå®ä¾‹æ—¥å¿—

```javascript
import { getWorkflowInstanceLogs } from '@/api/workflow'

// å®ä¾‹ID
const instanceId = 1

// è·å–æ‰§è¡Œæ—¥å¿—
getWorkflowInstanceLogs(instanceId).then(response => {
  console.log('æ‰§è¡Œæ—¥å¿—:', response.data)
}).catch(error => {
  console.error('è·å–æ‰§è¡Œæ—¥å¿—å¤±è´¥:', error)
})
```

## 7. å·¥ä½œæµæ•°æ®ç»“æ„

### 7.1 å·¥ä½œæµå®šä¹‰ç»“æ„

```json
{
  "id": 1,
  "name": "æµ‹è¯•å·¥ä½œæµ",
  "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å·¥ä½œæµ",
  "version": "1.0.0",
  "status": 1,
  "createdBy": 1,
  "createdAt": "2025-12-24T10:00:00",
  "updatedAt": "2025-12-24T10:00:00",
  "jsonDefinition": "{\"nodes\