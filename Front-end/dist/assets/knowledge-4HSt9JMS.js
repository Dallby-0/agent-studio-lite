import{g as c}from"./index-DX3WRIvF.js";import{b as p}from"./agent-CJcu8WMq.js";const s=p,d={async listKnowledgeBases(){try{const e=await s.get("/api/knowledge/bases");return console.log("获取知识库列表成功:",e),e}catch(e){throw console.error("获取知识库列表失败:",e),e}},async vectorSearch(e,o,n=5){try{return await s.get("/api/knowledge/vector-search",{params:{query:e,knowledgeBaseId:o,topK:n}})}catch(r){throw console.error("向量检索失败:",r),r}},async uploadKnowledge({file:e,agentId:o,name:n,description:r}){const a=new FormData;a.append("file",e),o&&a.append("agentId",o),n&&a.append("name",n),r&&a.append("description",r);try{const t=await c.post("/api/knowledge/upload",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")||""}`},timeout:6e5});return console.log("上传知识库成功:",t.data),t.data}catch(t){throw console.error("上传知识库失败:",t),t}},async deleteKnowledgeBase(e){try{return await s.delete(`/api/knowledge/bases/${e}`)}catch(o){throw console.error("删除知识库失败:",o),o}}};export{d as k};
