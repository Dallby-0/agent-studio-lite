import{g as s}from"./index-DPyoWTO0.js";const o=s.create({baseURL:"/api",timeout:1e4});o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.url.includes("/workflows")&&(console.log(`=== 调试：API请求 ${e.method.toUpperCase()} ${e.url} ===`),e.data&&(console.log("请求体:",e.data),e.data.edges&&(console.log("请求中的边数量:",e.data.edges.length),console.log("请求中的边数据:",e.data.edges)))),e},e=>(console.error("请求错误:",e),Promise.reject(e)));o.interceptors.response.use(e=>e.data,e=>(console.error("响应错误:",e),Promise.reject(e)));const a=e=>o.get("/workflows",{params:e}),i=e=>o.get(`/workflows/${e}/definition`),l=e=>{const t={...e};return t.definition&&(t.definition=JSON.stringify(t.definition)),o.post("/workflows",t)},d=(e,t)=>{const r={...t};return r.definition&&(r.definition=JSON.stringify(r.definition)),o.put(`/workflows/${e}`,r)},u=e=>o.delete(`/workflows/${e}`),f=(e,t)=>o.post(`/workflow-instances/start/${e}`,t);export{i as a,l as c,u as d,a as g,f as r,d as u};
